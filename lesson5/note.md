# cuda内存组织
计算机中的内存组织主要包括以下几种类型，它们在读取速度和适用场景上各有不同：

### 1. **寄存器（Register）**
   - **位置**：位于CPU内部。
   - **速度**：最快的存储类型，访问速度通常在纳秒级别。
   - **容量**：非常小，通常只有几十到几百字节。
   - **适用方向**：用于存储CPU当前正在处理的数据和指令，如算术运算、地址计算等。

### 2. **高速缓存（Cache）**
   - **位置**：位于CPU内部或紧邻CPU。
   - **速度**：访问速度极快，通常在几纳秒到几十纳秒之间。
   - **容量**：较小，通常为几KB到几十MB。
   - **适用方向**：用于存储CPU近期可能使用的数据和指令，减少访问主内存的延迟。分为L1、L2、L3三级缓存，L1最快但容量最小，L3较慢但容量较大。

### 3. **主内存（RAM，Random Access Memory）**
   - **位置**：位于主板上，通过内存总线与CPU连接。
   - **速度**：访问速度较慢，通常在几十到几百纳秒之间。
   - **容量**：较大，通常为几GB到几百GB。
   - **适用方向**：用于存储操作系统、应用程序和当前正在处理的数据。分为DRAM（动态RAM）和SRAM（静态RAM），DRAM更常见，SRAM速度更快但成本更高。

### 4. **固态硬盘（SSD，Solid State Drive）**
   - **位置**：位于主板上或通过接口（如SATA、NVMe）连接。
   - **速度**：访问速度较快，通常在几微秒到几十微秒之间。
   - **容量**：较大，通常为几百GB到几TB。
   - **适用方向**：用于长期存储数据和程序，读写速度比传统硬盘快得多，适合作为系统盘或存储频繁访问的数据。

### 5. **机械硬盘（HDD，Hard Disk Drive）**
   - **位置**：位于主板上或通过接口（如SATA）连接。
   - **速度**：访问速度较慢，通常在几毫秒到几十毫秒之间。
   - **容量**：非常大，通常为几百GB到几十TB。
   - **适用方向**：用于长期存储大量数据，成本较低，适合存储不常访问的数据。

### 6. **虚拟内存（Virtual Memory）**
   - **位置**：位于硬盘上，由操作系统管理。
   - **速度**：访问速度非常慢，通常在几毫秒到几十毫秒之间。
   - **容量**：理论上可以非常大，受硬盘容量限制。
   - **适用方向**：当物理内存不足时，操作系统会将部分数据转移到硬盘上的虚拟内存中，以扩展可用内存空间。

### 7. **只读存储器（ROM，Read-Only Memory）**
   - **位置**：位于主板上。
   - **速度**：访问速度较慢，通常在几十到几百纳秒之间。
   - **容量**：较小，通常为几KB到几MB。
   - **适用方向**：用于存储固件和启动程序，如BIOS/UEFI，数据在断电后不会丢失。

### 8. **闪存（Flash Memory）**
   - **位置**：位于主板或外部设备（如USB驱动器、SD卡）中。
   - **速度**：访问速度较快，通常在几微秒到几十微秒之间。
   - **容量**：较大，通常为几MB到几TB。
   - **适用方向**：用于存储数据和程序，适合便携设备和嵌入式系统。

### 总结
- **寄存器**和**高速缓存**：速度最快，容量最小，适合CPU内部数据处理。
- **主内存**：速度较快，容量较大，适合运行中的程序和数据。
- **SSD**和**HDD**：速度较慢，容量大，适合长期存储。
- **虚拟内存**：速度最慢，容量大，适合扩展物理内存。
- **ROM**和**闪存**：速度较慢，容量较小，适合固件和便携存储。

**RAM（Random Access Memory，随机存取存储器）** 是计算机中非常重要的内存类型，通常被称为**主内存**或**系统内存**。它是计算机运行时存储数据和程序的主要场所，CPU可以直接访问RAM中的数据。

以下是关于RAM的详细介绍：

---

### **1. RAM的特点**
- **随机访问**：RAM允许CPU以任意顺序访问任意地址的数据，访问速度与数据存储位置无关。
- **易失性**：RAM是易失性存储器，断电后数据会丢失。
- **读写速度快**：RAM的读写速度比硬盘和SSD快得多，但比CPU内部的寄存器和高速缓存慢。
- **容量较大**：现代计算机的RAM容量通常在几GB到几百GB之间。

---

### **2. RAM的类型**
RAM主要分为两种类型：

#### **（1）DRAM（Dynamic RAM，动态随机存取存储器）**
- **特点**：
  - 需要不断刷新（Refresh）以保持数据，因此称为“动态”。
  - 成本较低，容量较大。
  - 速度较慢，访问时间通常在几十到几百纳秒。
- **应用**：
  - 主要用于计算机的主内存（如DDR4、DDR5内存条）。
- **常见形式**：
  - **DDR SDRAM**（双倍数据速率同步动态随机存取存储器）：如DDR3、DDR4、DDR5，是目前主流的RAM类型。

#### **（2）SRAM（Static RAM，静态随机存取存储器）**
- **特点**：
  - 不需要刷新，数据在通电期间保持不变。
  - 速度非常快，访问时间通常在几纳秒到几十纳秒。
  - 成本较高，容量较小。
- **应用**：
  - 主要用于CPU的高速缓存（如L1、L2、L3缓存）。

---

### **3. RAM的读取速度**
- **DRAM**：访问速度通常在几十到几百纳秒。
- **SRAM**：访问速度通常在几纳秒到几十纳秒。
- **对比**：
  - RAM的速度比硬盘（HDD）和固态硬盘（SSD）快得多，但比CPU内部的寄存器和高速缓存慢。

---

### **4. RAM的作用**
- **临时存储运行中的程序和数据**：操作系统、应用程序和当前处理的数据都加载到RAM中，供CPU快速访问。
- **提高系统性能**：更大的RAM容量可以减少系统对硬盘的依赖（如虚拟内存的使用），从而提升整体性能。
- **支持多任务处理**：RAM允许同时运行多个程序，每个程序都可以占用一部分内存空间。

---

### **5. RAM的适用方向**
- **通用计算**：日常办公、网页浏览、多媒体播放等。
- **高性能计算**：游戏、视频编辑、3D建模、科学计算等需要大量内存的应用。
- **服务器和数据中心**：需要大容量RAM来支持虚拟化、数据库和云计算等任务。
- **嵌入式系统**：某些嵌入式设备也需要RAM来运行操作系统和应用程序。

---

### **6. RAM的发展趋势**
- **容量越来越大**：随着应用程序和操作系统对内存需求的增加，RAM容量不断增长，现代计算机通常配备8GB到128GB甚至更多的RAM。
- **速度越来越快**：从DDR3到DDR4再到DDR5，每一代RAM的速度和带宽都有显著提升。
- **能效比提高**：新一代RAM（如DDR5）在提升性能的同时，也降低了功耗。

---

### **总结**
RAM是计算机中至关重要的内存类型，它直接影响了系统的运行速度和多任务处理能力。随着技术的发展，RAM的容量和速度不断提升，能够更好地满足现代计算需求。无论是日常使用还是高性能计算，RAM都扮演着不可替代的角色。


# cuda 内存
主机 cpu以及所控制的ram内存
1. 全局内存
在芯片外，可读可写，所有线程以及主机端都可以看到。
由主机分配和释放
2. 常量内存
在芯片外，仅可读，所有线程以及主机端都可以看到。
由主机分配和释放
3. 纹理和表面内存
 芯片外一般仅可读 所有线程以及主机端都可以看到。
由主机分配和释放
4. 寄存器内存 
芯片内，这里的寄存器指的是GPU寄存器，不是cpu了。
可读可写，在单个线程中可见，由所在线程决定
5. 局部内存 
芯片外，可读可写，在单个线程中可见，由所在线程决定
6. 共享内存 shared memory
容量较小容量较小（通常为几十KB），但可以被同一个线程块（Block）内的所有线程共享
可读可写，在单个线程块中，生命周期为所在线程块

## 全局内存
核函数中的所有线程都能够访问其中的数据。
全局内存没有放在GPU芯片上，容量很大，容量就是显存的容量。
全局内存是放在显存上的
我们通过cudaMemcpyToSymbol 来修改它



